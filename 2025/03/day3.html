<!DOCTYPE html>
<html>

<head>
  <title></title>
</head>

<body>
  <input type="file" id="inputFichier" />
  <script type="text/javascript">

    const getIndexWithHighestDigit = (line, slice) => line.findIndex(a => a === Math.max(...line.slice(0, line.length - slice)))

    const getLineJoltageRecursive = (line, powerOfTen) => {
      if (powerOfTen === 1) {
        return Math.max(...line)
      }
      const indexWithHighestDigit = getIndexWithHighestDigit(line, powerOfTen - 1)
      return line[indexWithHighestDigit] * (Math.pow(10, (powerOfTen - 1))) + getLineJoltageRecursive(line.slice(indexWithHighestDigit + 1), powerOfTen - 1)
    }

    const getTotalOutputJoltage = (joltage, powerOfTen) => joltage.reduce((acc, line) => acc + getLineJoltageRecursive(line, powerOfTen), 0)

    const handleFileContent = lines => {
      const joltage = lines.map(line => line.split('').map(number => parseInt(number, 10)))
      console.log('part 1', getTotalOutputJoltage(joltage, 2))
      console.log('part 2', getTotalOutputJoltage(joltage, 12))
    }

  </script>
  <script src="../../openingFile.js"></script>
</body>

</html>